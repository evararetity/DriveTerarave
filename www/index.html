<!doctype html>
<html lang="en" class="md">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, shrink-to-fit=no, viewport-fit=cover">

    <meta http-equiv="Content-Security-Policy" content="
        default-src *; 
        style-src * 'unsafe-inline'; 
        script-src * 'unsafe-inline'; 
        media-src *; img-src * data:; 
    " />

    <link rel="apple-touch-icon" href="img/f7-icon-square.png">
    <link rel="icon" href="img/f7-icon.png">
    
    <link rel="stylesheet" href="vendor/bootstrap-4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="vendor/materializeicon/material-icons.css">
    <link rel="stylesheet" href="vendor/swiper/css/swiper.min.css">
    <link id="theme" rel="stylesheet" href="css/style.css" type="text/css">

    <link rel="stylesheet" href="css/jquery.mobile-1.4.5.min.css" />
    <script src="js/jquery-1.11.1.min.js"></script>
    <!-- <script src="js/jquery-3.2.1.min.js"></script> -->
    <script src="js/jquery.mobile-1.4.5.min.js"></script>
    
    <script src="https://cdn.pubnub.com/sdk/javascript/pubnub.4.19.0.min.js"></script>


    <title>Drive TeraRave</title>
</head>

<body class="app color-theme-yellow">
    <div id="deviceready" class="loader justify-content-center ">
        <div class="maxui-roller align-self-center"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
    </div>
    <div class="wrapper">
        <!-- login page start -->
        <div class="page"data-role="page" id="login-page" >
            <div class="page-content h-100">
                <div class="background"><img src="img/background.png" alt=""></div>
                <div class="row mx-0">
                    <div class="col">
                        <img src="img/logo.png" alt="" class="login-logo">
                        <h1 class="login-title"><small>Now, You Drive</small><br>TeraRave</h1>
                    </div>
                </div>
                <div class="row mx-0">
                    <div class="col">
                        <ul class="nav nav-tabs login-tabs mt-3" role="tablist">
                            <li class="nav-item">
                                <a class="nav-link border-white text-white active show" data-toggle="tab" href="#signin" role="tab" aria-selected="true">Sign in</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link border-white text-white" data-toggle="tab" href="#signup" role="tab" aria-selected="false">Sign Up</a>
                            </li>
                        </ul>
                        <!-- tabs content start here -->
                        <div class="tab-content">

                            <div class="tab-pane active" id="signin" role="tabpanel">
                                <div class="login-input-content">
                                   <div class="input-group">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text"><i class="material-icons">email</i></span>
                                        </div>
                                        <input type="email" class="form-control" id="email" placeholder="Email Address" aria-label="Username">
                                    </div>
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text"><i class="material-icons">lock</i></span>
                                        </div>
                                        <input type="password" class="form-control" id="password" placeholder="Password" aria-label="Username">
                                    </div>
                                </div>
                                <div class="row mx-0 justify-content-end no-gutters">
                                    <div class="col-6">
                                        <a class="btn btn-block gradient border-0 z-3" id="login" onclick="login()">Sign in</a>
                                    </div>
                                </div>
                                <div id="error" style="color: red;" class="text-center"></div>
                                <!-- <div id="success" style="color: green;" class="text-center"></div> -->
                                <a href="" class="btn btn-link text-white btn-block text-center mt-3">Forget Password?</a>
                            </div>


                            <div class="tab-pane" id="signup" role="tabpanel">
                                
                                <div class="row mx-0 justify-content-end no-gutters">
                                    <div class="col-6">
                                        <a href="verification.html" class="btn btn-block gradient border-0 z-3">Sign Up</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- tabs content end here -->
                    </div>
                </div>
              
                <br>

            </div>
           
        </div>
        <!-- login page ends -->

        <!-- sidebar right start -->
        <div class="sidebar sidebar-right">
            <header class="row m-0 fixed-header">
                <div class="left">
                    <a href="javascript:void(0)" class="menu-left-close"><i class="material-icons">keyboard_backspace</i></a>
                </div>
                <div class="col center">
                    <a href="" class="logo">Truck Driver</a>
                </div>
            </header>
            <div class="page-content text-white">
                <div class="row mx-0 mt-3">
                    <div class="col">
                        <div class="card bg-none border-0 shadow-none">
                            <div class="card-body userlist_large">
                                <div class="media">
                                    <figure class="avatar avatar-120 rounded-circle my-2">
                                        <img src="img/user1.png" alt="user image">
                                    </figure>
                                    <div class="media-body">
                                        <h4 class="mt-0 text-white fullname"></h4>
                                        <p class="text-white"> D-<span id="id"></span></p>
                                        <h5 class="text-success my-2">
											<i class="material-icons">star</i>
											<i class="material-icons">star</i>
											<i class="material-icons">star</i>
											<i class="material-icons">star</i>
											
										</h5>
                                        <div class="mb-0">
                                            You drive a <span id="vehicleName"> Nissan </span> <span id="vehicleModel"> R250 </span> <span id="vehicleType"> Truck </span> with the Plate Number <span id="numberPlate"> XYJ-987-TR </span> and Registration Number <span id="regNumber">FRSC-657863</span>
                                            <span id="activeness"></span>
                                        </div>
                                        <br>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- sidebar right ends -->

        <!-- fullscreen menu start -->

        <div class="modal fade popup-fullmenu" id="fullscreenmenu" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content fullscreen-menu">
                    <div class="modal-header">
                        <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <a href="/profile/" class="block user-fullmenu popup-close">
                            <figure>
                                <img src="img/user1.png" alt="">
                            </figure>
                            <div class="media-content">
                                <h6><span class="fullname"></span><br><small>Truck</small></h6>
                            </div>
                        </a>
                        <br>
                        <div class="row mx-0">
                            <div class="col">
                                <div class="menulist">
                                    <ul>
                                        <li>
                                            <a href="#main-page" class="popup-close">
                                                <div class="item-title">
                                                    <i class="icon material-icons md-only">poll</i> Dashboard
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="" class="popup-close">
                                                <div class="item-title">
                                                    <i class="icon material-icons md-only">add_shopping_cart</i> Job Offers
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="" class="popup-close">
                                                <div class="item-title">
                                                    <i class="icon material-icons md-only">filter_none</i> On-Job
                                                </div>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <br>
                        <div class="row mx-0">
                            <div class="col">
                                <a onclick="logout()" id="logout" class="rounded btn btn-outline-white text-white popup-close">Logout</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- fullscreen menu ends -->

        <!-- dashboard start -->
        <div class="page" data-role="page" id="main-page">
            
            <header class="row m-0 fixed-header">
                <div class="left">
                    <a href="javascript:void(0)" style="color: white" data-toggle="modal" data-target="#fullscreenmenu"><i class="material-icons">menu</i></a>
                </div>

                <div class="col center">
                    <a href="" class="logo" style="color: white;">
                        <figure><img src="img/logo.png" alt="" ></figure> Drive TeraRave</a>
                </div>
                
                <div class="right" >
                    <a href="javascript:void(0)" style="color: white;" class="menu-right"><i class="material-icons">person</i></a>
                </div>
            </header>

            <div class="page-content">
                <div class="content-sticky-footer">
                    <div class="background bg-170"><img src="img/background.png" alt=""></div>
                    <div class="w-100">
                        
                        <h1 class="text-center text-white title-background"><small>Welcome,<br></small><span class="fullname"></span></h1>

                        <div>
                            <div class="swiper-container swiper-init swipermultiple">
                                <div class="swiper-wrapper">
                                    <div class="swiper-slide">
                                        <div class="swiper-content-block ">
                                            <h4 class="title-small-carousel">Completed</h4>
                                            <div class="gaugewrap">
                                                <h2 class="title-number-carousel"><span class="text-primary">0 Jobs</span></h2>
                                                <div class="progress_profile1 gauge" data-value="0" data-size="20" data-thickness="2" data-animation-start-value="0" data-reverse="false"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="swiper-slide">
                                        <div class="swiper-content-block ">
                                            <h4 class="title-small-carousel">In Transit</h4>
                                            <div class="gaugewrap">
                                                <h2 class="title-number-carousel"><span class="text-danger">0</span><small>/3 Stages</small></h2>
                                                <div class="progress_profile2  gauge" data-value="0" data-size="20" data-thickness="2" data-animation-start-value="0" data-reverse="false"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="content-sticky-footer" style="padding-bottom: 100px;">
                            <h5 class="block-title text-center">Ready for work?</h5>
                            <div class="row mx-0">
                                <div class="col theme-color">
                                    <div class="btn-group w-100" role="group" aria-label="Basic example">
                                        <button type="button" class="col btn btn-secondary gray" data-theme="color-theme-gray" onclick="jobStatus('busy')" style="border:solid 1px white">I'm busy</button>
                                        <button type="button" class="col btn btn-secondary active yellow" data-theme="color-theme-yellow" onclick="jobStatus('ready')">I'm ready</button>
                                    </div>
                                    <a href="" id="statusMsg" class="btn btn-link text-white btn-block text-center mt-3"></a>
                                    <a href="" id="err" class="btn btn-link text-red btn-block text-center mt-3"></a>
                                </div>
                            </div>

                            <button type="button" class="col btn btn-secondary active" onclick="transaction()">Transaction</button>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- dashboard ends -->

        <!-- modal here -->
            <div class="modal fade" id="job-alert-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-sm modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="jumbotron jumbotron-fluid mb-3 bg-white rounded-3 text-center z2">
                            <div class="container px-2">
                                <i class="avatar avatar-120 mr-0  material-icons icon-4x bg-white text-warning border-warning ">local_shipping</i>
                                <h2 class=" text-warning">Job Alert</h2>
                                <h5>T-<span id="notif-ID" class="text-warning"></span></h5>

                                <p class="lead" id="notif-text"></p>
                                <hr class="my-4">
                                <button type="button" onclick="driverInit()" class="z2 mr-2 btn btn-light text-dark rounded mb-2">Accept Offer</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        <!-- modal ends -->

        <!-- Transaction Page here -->
            <div class="page" data-role="page" id="transaction-page">
                
                <header class="row m-0 fixed-header">
                    <div class="left">
                        <a href="javascript:void(0)" style="color: white" data-toggle="modal" data-target="#fullscreenmenu"><i class="material-icons">menu</i></a>
                    </div>
    
                    <div class="col center">
                        <a href="" class="logo" style="color: white;">
                            <figure><img src="img/logo.png" alt="" ></figure> Drive TeraRave</a>
                    </div>
                    
                    <div class="right" >
                        <a href="javascript:void(0)" style="color: white;" class="menu-right"><i class="material-icons">person</i></a>
                    </div>
                </header>

                <div class="page-content">
                    <div class="content-sticky-footer">
                        <div class="background bg-170"><img src="img/background.png" alt=""></div>
                        <br /><br />
                        <div class="row mx-0">
                            <div class="col mt-3">
                                <div class="card z2">
                                    <div class="card-header">
                                        <a href="#" class="media">
                                            <div class="media-body">
                                                <h5 id="job-header">Going to pickup Location</h5>
                                                <p id="eta">ETA = 12:50pm</p>
                                                <h2 class="title-number-carousel color-primary"><span class="text-warning" id="job-stage-no">1</span><small>/4 Stages</small></h2>
                                            </div>
                                            <div class="w-auto">
                                                <button id="job-button" type="button" onclick="jobProgress('arrived')" class="z2 mr-2 btn btn-light text-dark rounded mb-2">Arrived</button>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="progress mb-3">
                                        <div id="job-progress" class="progress-bar progress-bar-striped progress-bar-animated bg-warning" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">25%</div>
                                    </div>
                                    <div class="card-body p-0">
                                        <div style="padding: 15px;">
                                            <p id="job-instruction1" class="text-center">You are encouraged to reach the Pickup Location in 15mins. You can either call the phone number below for info about the Pickup Location or click the "Arrived" button upon arrival for the next stage</p>

                                            <p id="job-instruction2" class="text-center" style="display: none">You are currently packing the item(s) into your vehicle. Please click the "Item Picked" button when you are done packing so you can move to the next stage</p>

                                            <div id="job-instruction3" style="display: none">
                                                <p class="text-center">Please be sure there is no problem with this transaction. Click the "Complain" button if there is any or click the "Set Out" button to begin your delivery journey</p>
                                                <button id="job-button" type="button" onclick="complain()" class="z2 mr-2 btn btn-light text-dark rounded mb-2">Complain</button>
                                            </div>

                                            <div id="job-instruction4" style="display: none">
                                                <p class="text-center">You are in the last stage of this transaction, Please be fast and carefull. You can click the "Map" button to track yourself or call the number below for info about Delivery Location. Please click the "Delivered" button upon delivery</p>
                                                <button id="job-button" type="button" onclick="map()" class="z2 mr-2 btn btn-light text-dark rounded mb-2">Map</button>
                                            </div>

                                            <div id="job-instruction5" style="display: none">
                                                <p class="text-center">Congratulations, You just completed this delivery. Click the button below to make a comment or complain about this transaction</p>
                                                <button id="job-button" type="button" onclick="complain()" class="z2 mr-2 btn btn-light text-dark rounded mb-2">Comment</button>
                                            </div>
                                            
                                        </div>
                                    </div>
                                    <div class="card-footer">
                                        <div class="row">
                                            <div class="col">
                                                <i class="material-icons text-warning" style="font-size: 30px; margin-right: 30px;">local_shipping</i>

                                                <i class="material-icons text-warning">phone</i>
                                                <span class="post-seconds" style="margin-right: 30px;">09034675897</span>

                                                <i class="material-icons text-warning">account_balance</i>
                                                <span class="post-seconds">N4000 </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row mx-0" >
                            <div class="col">
                                <p class="text-center"><i>This transaction centers on picking up item from [pickup name, phone and location] to be delivered to [Customers name, phone and location]. The transaction Price charge is [Price] and 20% will be deducted as TeraRave's charges</i></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        <!-- Transaction Page ends  -->

        <!-- comment modal here -->
        <div class="modal fade" id="comment-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-sm modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="row mx-0">
                            <div class="col">
                                <div class="login-input-content">
                                    <textarea class="form-control" rows="3" placeholder="Write your comment here..."></textarea>
                                </div>
                                <div class="row mx-0 justify-content-end no-gutters">
                                    <div class="col">
                                        <a href="javascript:void(0)" class="btn btn-block gradient border-0 z-3">Submit</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        <!-- comment modal ends -->

    </div>
    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
    <script type="text/javascript" src="js/auth.js"></script>
    <script type="text/javascript" src="js/map.js"></script>

    <!-- <script src="js/jquery-3.2.1.min.js"></script> -->
    <script src="js/popper.min.js"></script>
    <script src="vendor/bootstrap-4.1.3/js/bootstrap.min.js"></script>
    <script src="vendor/cookie/jquery.cookie.js"></script>
    <script src="vendor/sparklines/jquery.sparkline.min.js"></script>
    <script src="vendor/circle-progress/circle-progress.min.js"></script>
    <script src="vendor/swiper/js/swiper.min.js"></script>
    <script src="js/main.js"></script>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBp89VH62zN4HaoMisYb190rXJgbVT1Wtw&callback=initMap"></script>
    
    <script type="text/javascript">
        app.initialize();
    </script>
    
    <!-- page specific script -->
    <script>
        $(window).on('load', function() {
            /* gauge chart circular progress */
            $('.progress_profile1').circleProgress({
                fill: '#169cf1',
                lineCap: 'butt'
            });
            $('.progress_profile2').circleProgress({
                fill: '#f4465e',
                lineCap: 'butt'
            });

            /*Swiper carousel */
            var mySwiper = new Swiper('.swiper-container', {
                slidesPerView: 2,
                spaceBetween: 0,
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                }
            });
        });

    </script>
</body>

</html>